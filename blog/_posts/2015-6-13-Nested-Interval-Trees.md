---
layout: blog
categories: blog 2015 6 13
excerpt: An experiment in implementing nested interval trees
---

<p>Lately I've been working on developing a <a href="//mongoosejs.com/">mongoose</a> plugin for nested interval trees. Interval trees are neat in that given a set of numbers and numerical ranges (intervals) which you insert into the tree, you can efficiently make a query to find all intervals overlapping a given interval or range. I thought it would be pretty neat to include this idea in a tagging system. If, for example, you wrote multiple blog posts on a particular book and tagged each post with the page ranges they reference, and interval tree would be an efficient way to find the intersection of those posts, especially if there were millions of posts by many different authors.</p>
<p>Instead of being categorical, this type of tagging allows information to become more relational, which, in my opinion is a lot more in line with how we think. We best process and understand information when we compare it to the rest of our knowledge and make connections between different ideas. Our understanding is not built from isolated categories but rather an interconnected network of information. Tagging with numbers doesn't provide information itself, but I think it would be a good way to tie ideas together and make it easier to quickly gather the thoughts of multiple people discussing the same content.</p>
<p>Nonetheless, categorical tagging is still useful so I thought it would be a good idea to make a data structure which I will call a nested interval tree. With this, intervals could be children of specific categories to bring more specificity to tags (ex. The Lord of The Rings/131-245). Intervals can even be children of other intervals to perhaps denote chapter or section numbers (ex. The Tale of Two Cities/8/98-100). In this data structure, both strings and numbers can be used to represent a location in the tree, combining both standard <i>n</i>-ary trees and interval trees.</p>
<p>You can view the project <a href="//github.com/austinEng/nested-interval-tree">here</a>.</p>